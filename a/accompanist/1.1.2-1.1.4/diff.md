# Comparing `tmp/accompanist-1.1.2-py3-none-any.whl.zip` & `tmp/accompanist-1.1.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,24 @@
-Zip file size: 43779 bytes, number of entries: 20
--rw-r--r--  2.0 unx     1488 b- defN 23-May-10 08:47 accompanist/cmd_init.py
--rw-r--r--  2.0 unx     5985 b- defN 23-May-10 08:47 accompanist/cmd_listen.py
--rw-r--r--  2.0 unx     3305 b- defN 23-May-10 11:53 accompanist/cmd_play.py
--rw-r--r--  2.0 unx      733 b- defN 23-May-10 08:48 accompanist/main.py
--rw-r--r--  2.0 unx      292 b- defN 23-May-10 08:47 accompanist/utility.py
--rw-r--r--  2.0 unx       18 b- defN 23-May-11 14:46 accompanist/version.py
--rw-r--r--  2.0 unx     3946 b- defN 23-May-10 08:49 accompanist/report/draw_histgram.py
--rw-r--r--  2.0 unx     3593 b- defN 23-May-10 08:49 accompanist/report/draw_pie_chart.py
--rw-r--r--  2.0 unx     3416 b- defN 23-May-11 11:10 accompanist/report/draw_table.py
--rw-r--r--  2.0 unx     1548 b- defN 23-May-10 08:49 accompanist/report/write_comment.py
--rw-r--r--  2.0 unx     1368 b- defN 23-May-11 14:50 accompanist/report/write_front_cover.py
--rw-r--r--  2.0 unx     3057 b- defN 23-May-10 08:49 accompanist/report/write_header_footer.py
+Zip file size: 44951 bytes, number of entries: 22
+-rw-r--r--  2.0 unx        0 b- defN 23-May-18 15:07 accompanist/__init__.py
+-rw-r--r--  2.0 unx     1511 b- defN 23-May-20 14:35 accompanist/cmd_init.py
+-rw-r--r--  2.0 unx     6498 b- defN 23-May-21 16:37 accompanist/cmd_listen.py
+-rw-r--r--  2.0 unx     3338 b- defN 23-May-20 14:36 accompanist/cmd_play.py
+-rw-r--r--  2.0 unx      741 b- defN 23-May-18 15:08 accompanist/main.py
+-rw-r--r--  2.0 unx      310 b- defN 23-May-18 14:54 accompanist/utility.py
+-rw-r--r--  2.0 unx       18 b- defN 23-May-22 09:02 accompanist/version.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-18 15:10 accompanist/report/__init__.py
+-rw-r--r--  2.0 unx     4302 b- defN 23-May-20 15:45 accompanist/report/draw_histgram.py
+-rw-r--r--  2.0 unx     3890 b- defN 23-May-21 15:53 accompanist/report/draw_pie_chart.py
+-rw-r--r--  2.0 unx     3562 b- defN 23-May-20 14:16 accompanist/report/draw_table.py
+-rw-r--r--  2.0 unx     1602 b- defN 23-May-18 16:04 accompanist/report/write_comment.py
+-rw-r--r--  2.0 unx     1503 b- defN 23-May-21 16:45 accompanist/report/write_front_cover.py
+-rw-r--r--  2.0 unx     3655 b- defN 23-May-21 16:45 accompanist/report/write_header_footer.py
 -rw-r--r--  2.0 unx    19193 b- defN 23-Mar-26 08:39 accompanist/resource/logo_trans.png
 -rw-r--r--  2.0 unx     6761 b- defN 23-Mar-26 08:25 accompanist/resource/logo_trans_small.png
--rw-r--r--  2.0 unx     1063 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/LICENSE
--rw-r--r--  2.0 unx     5744 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/WHEEL
--rw-r--r--  2.0 unx       53 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       31 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1728 b- defN 23-May-11 14:58 accompanist-1.1.2.dist-info/RECORD
-20 files, 63414 bytes uncompressed, 40935 bytes compressed:  35.4%
+-rw-r--r--  2.0 unx     1063 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/LICENSE
+-rw-r--r--  2.0 unx     6008 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx       53 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       31 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1889 b- defN 23-May-22 09:02 accompanist-1.1.4.dist-info/RECORD
+22 files, 66020 bytes uncompressed, 41849 bytes compressed:  36.6%
```

## zipnote {}

```diff
@@ -1,7 +1,10 @@
+Filename: accompanist/__init__.py
+Comment: 
+
 Filename: accompanist/cmd_init.py
 Comment: 
 
 Filename: accompanist/cmd_listen.py
 Comment: 
 
 Filename: accompanist/cmd_play.py
@@ -12,14 +15,17 @@
 
 Filename: accompanist/utility.py
 Comment: 
 
 Filename: accompanist/version.py
 Comment: 
 
+Filename: accompanist/report/__init__.py
+Comment: 
+
 Filename: accompanist/report/draw_histgram.py
 Comment: 
 
 Filename: accompanist/report/draw_pie_chart.py
 Comment: 
 
 Filename: accompanist/report/draw_table.py
@@ -36,26 +42,26 @@
 
 Filename: accompanist/resource/logo_trans.png
 Comment: 
 
 Filename: accompanist/resource/logo_trans_small.png
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/LICENSE
+Filename: accompanist-1.1.4.dist-info/LICENSE
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/METADATA
+Filename: accompanist-1.1.4.dist-info/METADATA
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/WHEEL
+Filename: accompanist-1.1.4.dist-info/WHEEL
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/entry_points.txt
+Filename: accompanist-1.1.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/top_level.txt
+Filename: accompanist-1.1.4.dist-info/top_level.txt
 Comment: 
 
-Filename: accompanist-1.1.2.dist-info/RECORD
+Filename: accompanist-1.1.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## accompanist/cmd_init.py

```diff
@@ -15,15 +15,15 @@
 @click.option("-p", "--path", required=True, default="/.env", type=str,
               prompt="Please input a analysis target URI path",
               help="Set a URI path for counts that is blocked/counted.")
 @click.option("-c", "--comment", required=True,
               default="This is a sample comment.", type=str,
               prompt="Please input a comment on the report",
               help="Set a comment for report.")
-def init(log_group, path, comment):
+def init(log_group: str, path: str, comment: str) -> None:
 
     configure_items = {
         "log_group": log_group,
         "target_uri": [path],
         "comment": [comment]
     }
```

## accompanist/cmd_listen.py

```diff
@@ -26,15 +26,15 @@
               help="Set a number of the past days until today for analysis target period.")
 @click.option("-s", "--start_time", required=False, type=int,
               help="Set a UNIX time of the oldest time for analysis target period (instead of \"--days\").")
 @click.option("-e", "--end_time", required=False, type=int,
               help="Set a UNIX time of the latest time for analysis target period (instead of \"--days\").")
 @click.option("-r", "--raw-log", required=False, is_flag=True,
               help="Output raw log file and the excerpted log file for debugging.")
-def listen(days, start_time, end_time, action, raw_log):
+def listen(days: int, start_time: int, end_time: int, action: str, raw_log: bool) -> None:
 
     if os.path.isfile(CONFIG_FILE):
         with open(CONFIG_FILE, mode="r") as f:
             config_dict = json.load(f)
     else:
         error_file = "[Error] " + CONFIG_FILE + " is not found in the ccurrent directory."
         info_before = "[Info] You may have to run \"accompanist init\" at first."
@@ -46,41 +46,51 @@
     client = boto3.client("logs")
 
     if action == "BLOCK":
         query = 'fields @timestamp, @message | filter @message like "BLOCK" | sort @timestamp desc'
     elif action == "COUNT":
         query = 'fields @timestamp, @message | filter @message like /"action":"COUNT"/ | sort @timestamp desc'
     else:
-        error_action = "[Error] action is empty or invalid"
-        ut.colorize_text(error_action, "red")
+        error_action = "[Error] The action is empty or invalid. You should set BLOCK or COUNT"
+        ut.colorize_print(error_action, "red")
         sys.exit()
 
     if days is not None and (start_time is None or end_time is None):
         end_time = int(time.time())
         start_time = end_time - days * 24 * 3600
     else:
         days_warning = "[Warning] The inputted number of days is ignored as the start & end times had been set."
-        ut.colorize_text(days_warning, "yellow")
+        ut.colorize_print(days_warning, "yellow")
 
-    start_query_response = client.start_query(
-        logGroupName=log_group,
-        startTime=start_time,
-        endTime=end_time,
-        queryString=query,
-        limit=10000
-    )
+    try:
+        start_query_response = client.start_query(
+            logGroupName=log_group,
+            startTime=start_time,
+            endTime=end_time,
+            queryString=query,
+            limit=10000
+        )
+    except Exception as e:
+        error_query = "[Error] An Error occurred just after the CWL Logs Insights query started"
+        ut.colorize_print(error_query, "red")
+        raise e
 
     response = None
     info_start = "[Info] A CloudWatch Logs Insights query started."
     ut.colorize_print(info_start, "cyan")
 
     while response is None or response["status"] == "Running":
         time.sleep(3)
         print(" ... ... ... ")
-        response = client.get_query_results(queryId=start_query_response["queryId"])
+        try:
+            response = client.get_query_results(queryId=start_query_response["queryId"])
+        except Exception as e:
+            error_get = "[Error] An Error occurred just after the command issued to get query results"
+            ut.colorize_print(error_get, "red")
+            raise e
     info_complete = "[Info] The query has been completed!"
     ut.colorize_print(info_complete, "cyan")
 
     if raw_log:
         with open("raw-log.json", mode="w", encoding="utf-8") as f:
             json.dump(response, f, indent=4)
         log_json = []
```

## accompanist/cmd_play.py

```diff
@@ -31,16 +31,15 @@
 @click.option("-m", "--mask-ip", required=False, is_flag=True,
               help="Mask IP addresses on pie chart.")
 @click.option("-u", "--utc-offset", required=False, type=int, default=9,
               help="Set a number of UTC offest. The defaut offset is UTC+9 (Asia/Tokyo).")
 @click.option("-y", "--y-limit", required=False, default="50",
               type=click.Choice(["50", "100", "500", "1000"]),
               help="Adjust a Y-axis max limitation for histograms due to many requests.")
-def play(color, colorful, mask_ip, utc_offset, y_limit):
-
+def play(color: str, colorful: str, mask_ip: bool, utc_offset: int, y_limit: str) -> None:
     # Pre-Process
     if os.path.isfile(INPUT_CSV_FILE):
         waf_log = pd.read_csv(INPUT_CSV_FILE, header=None)
     else:
         error_log = "[Error] A WAF log file, " + INPUT_CSV_FILE + " is not found in the current directory."
         ut.colorize_print(error_log, "red")
         sys.exit()
```

## accompanist/main.py

```diff
@@ -8,14 +8,14 @@
 @click.group(help="\
         \"Accompanist\" is your accompanist on AWS WAF log analyses.               \
         You can get an AWS WAF log analysis report by the following three commands.\
         (1) $ accompanist init    # Configure CWL log group setting              \
         (2) $ accompanist listen  # Get a WAF log file for analysis              \
         (3) $ accompanist play    # Analysis WAF logs and generate a report")
 @click.version_option()
-def cmd():
+def cmd() -> None:
     pass
 
 
 cmd.add_command(init_cmd)
 cmd.add_command(listen_cmd)
 cmd.add_command(play_cmd)
```

## accompanist/utility.py

```diff
@@ -1,8 +1,8 @@
-def colorize_print(message, color):
+def colorize_print(message: str, color: str) -> None:
     color_dic = {"red": "31m",
                  "green": "32m",
                  "yellow": "33m",
                  "blue": "34m",
                  "purple": "35m",
                  "cyan": "36m"}
     print("\033[" + color_dic[color] + message + "\033[0m")
```

## accompanist/version.py

```diff
@@ -1 +1 @@
-VERSION = "1.1.2"
+VERSION = "1.1.4"
```

## accompanist/report/draw_histgram.py

```diff
@@ -1,72 +1,78 @@
 import datetime
 
 import numpy as np
+from matplotlib.axes._axes import Axes
+from matplotlib.figure import Figure
+from numpy import int64, ndarray
+from pandas.core.frame import DataFrame
+from pandas.core.series import Series
 
 
 class DrawHistgramClass:
-    def __init__(self):
+    def __init__(self) -> None:
         self._hours = 3
         self._bins = 0
         self._label_and_count = ""
-        self._xlocation = []
-        self._all_xlocation = []
-        self._xlabel = []
+        self._xlocation: list = []
+        self._all_xlocation: ndarray
+        self._xlabel: list = []
         self._1day_seconds = 3600 * 24 * 1000
         self._xlabel_threshold = 0
 
-    def histgram(self, ax, time, target, label, color, utc_offset, y_limit):
+    def histgram(self, ax: Axes, time: Series, target: Series,
+                 label: str, color: str, utc_offset: int, y_limit_str: str) -> None:
         """
         Create settings for histgram
         """
         self._calc_xticks_and_labels(time[0], time[len(time) - 1], utc_offset)
         self._bins = int((self._last_xlocation - self._first_xlocation - self._1day_seconds)
                          / 1000 / (3600 * self._hours)) + 8  # margin = 8
         self._label_and_count = label + " (" + str(len(target)) + ")"
         ax.grid(True)
         # ax.yaxis.grid(False)
-        y_limit = int(y_limit)
+        y_limit = int(y_limit_str)
         ax.set_ylim(0, y_limit)
         if label != "Third Party":  # a hack for preventing from drawing twice
             ax.axhspan(y_limit / 5 * 1, y_limit / 5 * 2, color="gray", alpha=0.05)
             ax.axhspan(y_limit / 5 * 3, y_limit / 5 * 4, color="gray", alpha=0.05)
         ax.hist(target, alpha=0.7, bins=self._bins, range=(self._first_xlocation, self._last_xlocation),
                 label=self._label_and_count, color=color, edgecolor="white", linewidth=0)
         ax.legend(loc="upper left", prop={"size": 12}, fancybox=True,
                   edgecolor="gray", facecolor="white", framealpha=1)
 
         ax.set_xticks(self._xlocation)
         ax.set_xticklabels(self._xlabel)
         ax.tick_params(labelsize=10)
 
-    def _calc_xticks_and_labels(self, end_time, start_time, utc_offset):
+    def _calc_xticks_and_labels(self, end_time: int64, start_time: int64, utc_offset: int) -> None:
         tz_offset = 3600 * 1000 * utc_offset
         self._last_xlocation = end_time - end_time % (self._1day_seconds) + self._1day_seconds - tz_offset
         self._first_xlocation = start_time - start_time % (self._1day_seconds) - tz_offset
         self._number_of_labels = int((self._last_xlocation - self._first_xlocation) / self._1day_seconds) + 1
         self._all_xlocation = np.linspace(self._last_xlocation, self._first_xlocation, self._number_of_labels, dtype=int)
 
         self._xlabel_threshold = int(self._number_of_labels / 5) if (int(self._number_of_labels / 5)) > 2 else 2
 
         self._xlocation = []
         if self._number_of_labels > 7:
             for i in range(len(self._all_xlocation)):
                 if (i % self._xlabel_threshold == 1):
                     self._xlocation.append(self._all_xlocation[i])
         else:
-            self._xlocation = self._all_xlocation
+            self._xlocation = list(self._all_xlocation)
 
         self._xlabel = []
         for i in range(len(self._xlocation)):
             self._xlabel.append(datetime.datetime
                                 .fromtimestamp(self._xlocation[i] / 1000.0)
                                 .strftime("%m/%d(%a) %H:%M"))
 
 
-def draw_histgram(waf_log, fig, utc_offset, y_limit):
+def draw_histgram(waf_log: DataFrame, fig: Figure, utc_offset: int, y_limit: str) -> None:
     """
     Draw two histgrams
     """
     TITLE_OF_TOTAL = "Total Blocked / Counted Request"
     TITLE_OF_RULES = "Breakdown of Requests by Rule Provider"
 
     fig.subplots_adjust(top=0.8, left=-0.5, hspace=0.2)
```

## accompanist/report/draw_pie_chart.py

```diff
@@ -1,99 +1,101 @@
 import matplotlib.lines as lines
 import pandas as pd
+from matplotlib.axes._axes import Axes
+from matplotlib.figure import Figure
+from pandas.core.frame import DataFrame
+from pandas.core.series import Series
 
 
 class CalcTop5Class:
-    def __init__(self):
-        self._data = []
-        self._top5 = []
-        self._dropped = []
+    def __init__(self) -> None:
+        pass
 
-    def count_top5(self, target_row):
+    def count_top5(self, target_row: Series) -> Series:
         """
         Calculate top 5 data
         """
-        self._data = target_row.value_counts(sort=True) / target_row.value_counts().sum() * 100
-        self._top5 = self._data[:5]
-        self._dropped = self._data.drop(self._top5.index)
+        self._data: Series = target_row.value_counts(sort=True) / target_row.value_counts().sum() * 100
+        self._top5: Series = self._data[:5]
+        self._dropped: Series = self._data.drop(self._top5.index)
         self._top5["(Others)"] = pd.Series(self._dropped[0:].sum(), dtype="float64").to_string(index=False)
+
         return self._top5
 
 
 class DrawpieChartClass:
-    def __init__(self):
-        self._colors = ["#2466a9", "#3f86bf", "#609fc6", "#88b5ce", "#bcd4e5", "#B2B2B2"]  # Blue palette
-        self._wedgeprops = {"alpha": 0.9, "edgecolor": "white", "linewidth": 1, "width": 0.7}
-        self._textprops = {"weight": "bold", "color": "#ffff00", "fontsize": "14"}
+    def __init__(self) -> None:
+        self._colors: list = ["#2466a9", "#3f86bf", "#609fc6", "#88b5ce", "#bcd4e5", "#B2B2B2"]  # Blue palette
+        self._wedgeprops: dict = {"alpha": 0.9, "edgecolor": "white", "linewidth": 1, "width": 0.7}
+        self._textprops: dict = {"weight": "bold", "color": "#ffff00", "fontsize": "14"}
 
-    def pie_chart(self, ax, data, title):
+    def pie_chart(self, ax: Axes, data: Series, title: str) -> None:
         """
         Draw pie chart
         """
         ax.pie(data, colors=self._colors, startangle=90, counterclock=False,
                labels=data.index, pctdistance=0.7,
                autopct=lambda p: "{: .0f}%".format(p) if p >= 3 else "",
                wedgeprops=self._wedgeprops, textprops=self._textprops, labeldistance=None)
-        ax.legend(loc="upper left", bbox_to_anchor=(1.3, 0.9),
+        ax.legend(loc="upper left", bbox_to_anchor=(1.3, 0.94),
                   prop={"size": "16", "weight": "bold"}, frameon=False, ncol=1)
         ax.set_title(title, loc="left", pad=10, fontsize="20", fontweight="bold", color="black")
 
 
-def draw_pie_chart(data_frame, fig_a, fig_b, mask_ip):
+def draw_pie_chart(data_frame: DataFrame, fig_a: Figure, fig_b: Figure, mask_ip: bool) -> None:
     """
     Draw pie chart for top 5
     """
-    global top5
-    top5 = [0] * 4
+    top5: list = [0] * 4
 
     calc = CalcTop5Class()
 
     for i in range(len(top5)):
         top5[i] = calc.count_top5(data_frame.iloc[:, i + 1])
 
     if mask_ip:
         top5[2] = (mask_ip_addresses(top5[2]))
 
     fig_a.subplots_adjust(top=0.8, left=-0.5, hspace=0.2)
     fig_b.subplots_adjust(top=0.8, left=-0.5, hspace=0.2)
 
     # Add note for country code
     fig_b.add_artist(lines.Line2D([0.66, 0.93], [0.16, 0.16], color="#eeeeee", linewidth=60, zorder=0))
-    cc_note = "Please refer to the following for the country code."
-    cc_link = "https://en.wikipedia.org/wiki/ISO_3166-2"
-    fig_b.text(0.64, 0.17, cc_note, fontsize=12, ha="left")
-    fig_b.text(0.64, 0.13, cc_link, fontsize=12, ha="left", color="blue",
+    CC_NOTE: str = "Please refer to the following for the country code."
+    CC_LINK: str = "https://en.wikipedia.org/wiki/ISO_3166-2"
+    fig_b.text(0.64, 0.17, CC_NOTE, fontsize=12, ha="left")
+    fig_b.text(0.64, 0.13, CC_LINK, fontsize=12, ha="left", color="blue",
                url="https://en.wikipedia.org/wiki/ISO_3166-2")
 
-    ax_a_1 = fig_a.add_subplot(2, 1, 1)
-    ax_a_2 = fig_a.add_subplot(2, 1, 2)
-    ax_b_1 = fig_b.add_subplot(2, 1, 1)
-    ax_b_2 = fig_b.add_subplot(2, 1, 2)
+    ax_a_1: Axes = fig_a.add_subplot(2, 1, 1)
+    ax_a_2: Axes = fig_a.add_subplot(2, 1, 2)
+    ax_b_1: Axes = fig_b.add_subplot(2, 1, 1)
+    ax_b_2: Axes = fig_b.add_subplot(2, 1, 2)
 
     ax_a_1.set_position([0.004, 0.42, 0.4, 0.3])
     ax_a_2.set_position([0.004, 0.06, 0.4, 0.3])
     ax_b_1.set_position([0.004, 0.42, 0.4, 0.3])
     ax_b_2.set_position([0.004, 0.06, 0.4, 0.3])
 
     draw = DrawpieChartClass()
 
     draw.pie_chart(ax_a_1, top5[0], "Terminating Rule Group")
     draw.pie_chart(ax_a_2, top5[1], "Path Name")
     draw.pie_chart(ax_b_1, top5[2], "IP Address")
     draw.pie_chart(ax_b_2, top5[3], "Country")
 
 
-def mask_ip_addresses(ip_dataframe):
+def mask_ip_addresses(ip_dataframe: Series) -> Series:
     """
     Mask IP adress if the option was set
     """
-    masked_ips = []
+    masked_ips: list = []
     for i in range(len(ip_dataframe)):
-        ip_segments = str(ip_dataframe.index[i]).split(".")
+        ip_segments: list = str(ip_dataframe.index[i]).split(".")
         if i != 5:
             ip_segments[0] = "xxx"
             ip_segments[1] = "xxx"
-        masked_ip = '.'.join(ip_segments)
+        masked_ip: str = '.'.join(ip_segments)
         masked_ips.append(masked_ip)
     ip_dataframe.index = [masked_ips[0], masked_ips[1], masked_ips[2],
                           masked_ips[3], masked_ips[4], masked_ips[5]]
     return ip_dataframe
```

## accompanist/report/draw_table.py

```diff
@@ -1,16 +1,19 @@
 import json
 
-import accompanist.utility as ut
 import numpy as np
+from matplotlib.figure import Figure
+from pandas.core.frame import DataFrame
+
+import accompanist.utility as ut
 
 CONFIG_FILE = "config.json"
 
 
-def draw_table(waf_log, fig):
+def draw_table(waf_log: DataFrame, fig: Figure) -> None:
     """
     Draw a table
     """
     TABLE_TITLE = "Requests Matched Specific Paths"
     uri_data = calc_count_of_uris(waf_log)
 
     fig.subplots_adjust(top=0.64, left=0.04, right=0.82, hspace=0)
@@ -70,28 +73,28 @@
         cell.set_linewidth(2)
         cell.set_edgecolor("white")
 
     note = "[Note] The total count is inaccurate if the COUNT action is chosen because one or more rules may count some requests."
     ax.text(0.1, 0.01, note, color="black", fontsize=12)
 
 
-def calc_count_of_uris(waf_log):
+def calc_count_of_uris(waf_log: DataFrame) -> list:
     """
     Count the number of URIs
     """
 
     f = open(CONFIG_FILE, "r")
     settings_file = json.load(f)
     f.close()
 
-    uris = settings_file["target_uri"]
-    counted_uris = []
-    index = 0
+    uris: list = settings_file["target_uri"]
+    counted_uris: list = []
+    index: int = 0
     for uri in uris:
-        count = 0
+        count: int = 0
         index = index + 1
         if index <= 12:
             if uri in waf_log["uri"].values:
                 count = waf_log.groupby("uri").get_group(uri)["uri"].count()
             counted_uris.append([index, uri, count])
         else:
             warning_path = "[Warning] Some paths can't be shown because the number of paths may be exceeded."
```

## accompanist/report/write_comment.py

```diff
@@ -1,17 +1,19 @@
 import json
 
-import accompanist.utility as ut
 import matplotlib.patches as patches
+from matplotlib.figure import Figure
+
+import accompanist.utility as ut
 
 CONFIG_FILE = "config.json"
 JP_FONT = "YuGothic"
 
 
-def write_comment(fig):
+def write_comment(fig: Figure) -> None:
     """
     Add comment page (last page)
     """
     with open(CONFIG_FILE, mode="r") as f:
         config_dict = json.load(f)
 
     fig.text(0.091, 0.74, "Comment", color="black", fontsize=20, fontweight="bold")
```

## accompanist/report/write_front_cover.py

```diff
@@ -1,40 +1,41 @@
+
 import datetime
-# import re
 import site
 
 import matplotlib.lines as lines
+from matplotlib.figure import Figure
+from matplotlib.offsetbox import AnnotationBbox, OffsetImage
 from PIL import Image
 
 import accompanist.version as ve
 
-LOGO_FILE = "logo_trans.png"
-VERSION_FILE = "".join(site.getsitepackages()) + "/accompanist/version.py"
-
-# ToDo: Refactor
-# verstrline = open(VERSION_FILE, "rt").read()
-# VSRE = r"^__version__ = ['\"]([^'\"]*)['\"]"
-# mo = re.search(VSRE, verstrline, re.M)
-# verstr = mo.group(1)
+LOGO_FILE: str = "logo_trans.png"
 
 
-def write_front_cover(fig, color):
+def write_front_cover(fig: Figure, color: str) -> None:
     """
-    Write cover of report
+    Write the cover of the analysis report
     """
     fig.add_artist(lines.Line2D([0, 1], [0.24, 0.24], color=color, linewidth=306, zorder=0))
 
-    title_1 = "AWS WAF Log"
-    title_2 = "Analysis Report"
-    today = datetime.date.today()
-    creation_date = "Creation Date: " + str(today)
-    description = "This report was automatically generated with"
+    title_1: str = "AWS WAF Log"
+    title_2: str = "Analysis Report"
+    today: datetime.date = datetime.date.today()
+    creation_date: str = "Creation Date: " + str(today)
+    description: str = "This report was automatically generated with"
 
     fig.text(0.1, 0.80, title_1, color="#000000", fontsize=50, fontweight="bold")
     fig.text(0.1, 0.66, title_2, color="#000000", fontsize=50, fontweight="bold")
     fig.text(0.7, 0.52, creation_date, color="#757575", fontsize=18, fontweight="bold")
     fig.text(0.262, 0.3, description, color="#ffffff", fontsize=18)
+    fig.text(0.44, 0.05, "Version: " + ve.VERSION, color="#ffffff", fontsize=16, fontweight="bold")
 
-    logo_location = "".join(site.getsitepackages()) + "/accompanist/resource/" + LOGO_FILE
-    fig.figimage(Image.open(logo_location), xo=360, yo=100)
+    # Display Logo
+    logo_location: str = "".join(site.getsitepackages()) + "/accompanist/resource/" + LOGO_FILE
+    log_image = Image.open(logo_location)
+    bbox={"edgecolor": "none", "facecolor": color}
+    ax = fig.subplots()
+    ab = AnnotationBbox(OffsetImage(log_image, zoom=0.7, alpha=1.0), (0.45, 0.08), bboxprops=bbox)
+    ax.add_artist(ab)
+    ax.axis('off')
 
-    fig.text(0.44, 0.05, "Version: " + ve.VERSION, color="#ffffff", fontsize=16, fontweight="bold")
```

## accompanist/report/write_header_footer.py

```diff
@@ -1,65 +1,73 @@
 import datetime
 import json
 import os
 import site
 
-import accompanist.utility as ut
 import matplotlib.lines as lines
+from matplotlib.figure import Figure
+from matplotlib.offsetbox import AnnotationBbox, OffsetImage
+from pandas.core.series import Series
 from PIL import Image
 
-LOGO_FILE = "logo_trans_small.png"
-SHEET_MUSIC_FILE = "sheet_music.json"
+import accompanist.utility as ut
+
+LOGO_FILE: str = "logo_trans_small.png"
+SHEET_MUSIC_FILE: str = "sheet_music.json"
 
 
 class WriteHeaderFooterClass():
     """
     Write header and footer class
     """
 
-    def __init__(self):
+    def __init__(self) -> None:
 
         self._dic_box = {
-            "facecolor": "White",
+            "facecolor": "#757575",
             "edgecolor": "#757575",
             "boxstyle": "Round, pad=0.7",
             "linewidth": 3,
         }
 
-    def header_footer(self, fig, page_number, term, color):
+    def header_footer(self, fig: Figure, page_number: str, term: str, main_color: str) -> None:
         with open(SHEET_MUSIC_FILE, mode="r") as f:
-            settings_dict = json.load(f)
-
-        MAIN_COLOR = color
+            settings_dict: dict = json.load(f)
 
         # Header
-        page_title = "AWS WAF Log  (Action: " + settings_dict["action"] + ")"
+        page_title: str = "AWS WAF Log  (Action: " + settings_dict["action"] + ")"
         log_group = settings_dict["log_group"].replace("aws-waf-logs-", "")
         if len(log_group) > 15:
             log_group = log_group[:15] + "*****"
-        fig.add_artist(lines.Line2D([0, 1], [0.94, 0.94], color=MAIN_COLOR, linewidth=80, zorder=0))
+        fig.add_artist(lines.Line2D([0, 1], [0.94, 0.94], color=main_color, linewidth=80, zorder=0))
 
         fig.text(0.05, 0.91, page_title, color="#ffffff", fontsize=26, fontweight="bold")
-        fig.text(0.71, 0.82, "Log Group: " + log_group, color="#757575", fontsize=14, fontweight="bold", bbox=self._dic_box)
-        fig.text(0.7, 0.76, term, color="#757575", fontsize=14)
+        fig.text(0.71, 0.82, "Log Group: " + log_group, color="#ffffff", fontsize=14, fontweight="bold", bbox=self._dic_box)
+        fig.text(0.71, 0.76, term, color="#757575", fontsize=14)
 
         # Footer
-        fig.add_artist(lines.Line2D([0, 1], [0.0004, 0.0004], color=MAIN_COLOR, linewidth=80, zorder=0))
+        fig.add_artist(lines.Line2D([0, 1], [0.0004, 0.0004], color=main_color, linewidth=80, zorder=0))
         fig.text(0.92, 0.02, page_number, color="#949494", fontsize=20, fontweight="bold")
 
-        # Logo
-        logo_path = "".join(site.getsitepackages()) + "/accompanist/resource/" + LOGO_FILE
-        if os.path.isfile(logo_path):
-            fig.figimage(Image.open(logo_path), xo=500, yo=10)
-        else:
-            warning_logo = "[Warning] Logo file is not found."
+        # Show logo file
+        try:
+            logo_location: str = "".join(site.getsitepackages()) + "/accompanist/resource/" + LOGO_FILE
+            log_image = Image.open(logo_location)
+            bbox={"edgecolor": "none", "facecolor": main_color}
+            ax_logo = fig.subplots()
+            ax_logo.set_position([-0.08, 0.01, 0.8, 0.8])
+            ab = AnnotationBbox(OffsetImage(log_image, zoom=0.7, alpha=1.0), (0.72, 0.03), bboxprops=bbox)
+            ax_logo.add_artist(ab)
+            ax_logo.axis('off')
+        except Exception as e:
+            warning_logo: str = "[Warning] The logo file can not be shown."
             ut.colorize_print(warning_logo, "yellow")
+            raise e
 
-
-def calc_term(time, utc_offset):
+def calc_term(time: Series, utc_offset: int) -> str:
     """
     Show term
     """
     with open(SHEET_MUSIC_FILE, mode="r") as f:
         settings_dict = json.load(f)
 
     offset = 3600 * utc_offset
@@ -74,15 +82,15 @@
     if int(days) > 1:
         term = days + " days (" + oldest_time + " - " + latest_time + ")"
     else:
         term = oldest_time + " - " + latest_time
     return term
 
 
-def write_header_and_footer(waf_log_time, figs, utc_offset, color):
+def write_header_and_footer(waf_log_time: Series, figs: Figure, utc_offset: int, color: str) -> None:
     """
     Add header and footer
     """
     term = calc_term(waf_log_time, utc_offset)
 
     write = WriteHeaderFooterClass()
```

## Comparing `accompanist-1.1.2.dist-info/LICENSE` & `accompanist-1.1.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `accompanist-1.1.2.dist-info/METADATA` & `accompanist-1.1.4.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: accompanist
-Version: 1.1.2
+Version: 1.1.4
 Summary: Analysis AWS WAF logs and generate a report
 Author: itsuki
 License: MIT
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: click
 Requires-Dist: boto3
@@ -13,27 +13,29 @@
 Requires-Dist: matplotlib
 Requires-Dist: PdfPages
 
 
 # Introduction
 
 ## What is Accomapnist?
-It's an accompanist on AWS WAF log analysis.
-You can analysis AWS WAF log and generate analysis report automatically with only 3 steps.
-When you use AWS WAF and CloudWatch Logs, this tool may be helpful for instant log analysis and understanding tendency of blocked or counted accesses.
+Accompanist is an AWS WAF log analysis tool.  
+It enables you to analyze AWS WAF logs and automatically generate comprehensive analysis reports in just three simple steps. If you're using AWS WAF and CloudWatch Logs, this tool can be helpful for instant log analysis and help you understand the trends of blocked or counted accesses.
 
-- The feature & Report Item
+- Features & Report Items
     - Histgram of requests
-    - Top 5 of below items
-        - Blocked or counted rule group
-        - URI path
-        - IP address
-        - Country code
-    - The hit count on specific paths
-    - Comment (An optionally writable area)
+        - Total number
+        - Number by each provider
+    - Top 5 for the following categories:
+        - Rule group
+        - URI Paths
+        - IP addressws
+        - Country codes
+    - Hit count on specific paths
+    - Comment
+        - An optional field where you can write additional notes
 
 ## Prerequisite
 
 - Target WAF
     - AWS WAFv2
         - Logging: CloudWatch Logs
         - Action: BLOCK or COUNT
@@ -53,31 +55,31 @@
 
 ```bash
 $ pip install accompanist
 ```
 
 ## Usage
 
-1. Configure settings with a following command, then config.json file is generated.
+1. First, configure the settings using the following command; this will generate a `config.json` file. 
 
 ```bash
 $ accompanist init
 ```
 
-- The log group name must be set with this command or you can edit the config.json directly.
+- You must set the log group name using this command, or you can choose to edit the `config.json` file directly.
 
-2. Get query result
+2. Second, retrieve the query results with the following commnad. 
 
-(e.g.) To get BLOCK log for 3 days
+- For example, to retrieve the `BLOCK` log for the past three days
 
 ```bash
 $ accompanist listen -a BLOCK -d 3
 ```
 
-3. Generate report (PDF format)
+3. Finally, generate a report in PDF format.
 
 ```bash
 $ accompanist play
 ```
 
 ## Uninstall
 
@@ -194,8 +196,7 @@
 
 Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 
 The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 
 THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 
-
```

## Comparing `accompanist-1.1.2.dist-info/RECORD` & `accompanist-1.1.4.dist-info/RECORD`

 * *Files 24% similar despite different names*

```diff
@@ -1,20 +1,22 @@
-accompanist/cmd_init.py,sha256=vcZ6KtdGJt8iDKbh85EuwwCh5eYJFKLeXqbSWxoaP2A,1488
-accompanist/cmd_listen.py,sha256=45LR7uhJv3s7iRmBz3HmYPnzIujk9SJuzD-fS7P-qWg,5985
-accompanist/cmd_play.py,sha256=vXh6fV7GVTcG2mbUHRpDdyuOM3esNtSR79DWGi5yolo,3305
-accompanist/main.py,sha256=Lm_KbVNrglhxzPDnof0cSmm0Z1ainQj-c-vAhmknVyw,733
-accompanist/utility.py,sha256=zwBY1ZlI0atmvAKPF7pfj6K4qrZALdsRdH77hmNwI7E,292
-accompanist/version.py,sha256=tr2dMUFshB0V7YlDRbNgwbPa_pUX5HAgJ388cVKIj1Y,18
-accompanist/report/draw_histgram.py,sha256=6B6-t3rWsMEhckj8s4WNd9VWX2tXapNxfYFo-iT-UXU,3946
-accompanist/report/draw_pie_chart.py,sha256=ENcYXO_E-W6rnsB1dUGjVYqLHU1zmzb8V77rQV3gry4,3593
-accompanist/report/draw_table.py,sha256=gaVd1scT4d6x-PnzUwhzW_EYHAAS-TPZiHPUWjhe8bM,3416
-accompanist/report/write_comment.py,sha256=BZ0YWFu60UJSjLTsBALvhxDKUiCJzcBocSg6z3UdXv0,1548
-accompanist/report/write_front_cover.py,sha256=F8zoUVvJTzwzhh6WP888ib4M_V2rf0mw3sO3FtuqPNg,1368
-accompanist/report/write_header_footer.py,sha256=6njo0lestW_akei3fazHsPTXCvchPTPXBl0NnAia7o8,3057
+accompanist/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+accompanist/cmd_init.py,sha256=zil_aW0B6trmh_TYZ777_7hc_3LpIHujqC3c1cfNACU,1511
+accompanist/cmd_listen.py,sha256=LEenowGLgxJpwMkUa95xacCKO5BAylDQkerumTEw5aA,6498
+accompanist/cmd_play.py,sha256=fX_fJZY0wPvpKNL1RXOOW3JIMR37Awjy66d1NhxIFlc,3338
+accompanist/main.py,sha256=g3QBePVSozsf-dpiyjXkUui9gUQHXd0g0znMZQL9TQ4,741
+accompanist/utility.py,sha256=FRzk5G0akYlODVy6RJtbLt6xJRZtdonH2UTh5JLY33I,310
+accompanist/version.py,sha256=SQcsz5J97So94LUbpqgj8qnhlSEQGJV-x0R0enSYzoE,18
+accompanist/report/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+accompanist/report/draw_histgram.py,sha256=cYxzjROtITo98QL6M8O98EXKlvM78E-WfE9thsPbzEE,4302
+accompanist/report/draw_pie_chart.py,sha256=f0_dwmXYsGoBO_Mgh9ht1j8Yp0UsirTyy6XV_VyBgbU,3890
+accompanist/report/draw_table.py,sha256=YZ9PpGS6sLaEgYsqL2Jj5yR7_ng1ywrLEozSlyfnNGQ,3562
+accompanist/report/write_comment.py,sha256=FqGVuAGRlOQry4ThvoB_I_1NtL1A5MFZMRWTI48nq98,1602
+accompanist/report/write_front_cover.py,sha256=lwRs7u17v7NbuoDVS-9TsH0PX0a1WQk-NEzbK3-ez10,1503
+accompanist/report/write_header_footer.py,sha256=nOvDqDaiF-ttCfVyLkAn7i2qkUcxn2aF1sJ6vPcsO1Y,3655
 accompanist/resource/logo_trans.png,sha256=IbkfTLMa9qzSifN32YocbOdpDRecelHA7k8cLrBVK_4,19193
 accompanist/resource/logo_trans_small.png,sha256=SS9AlZGL3Ce-6BbD4EW5rbn7zuDcje7HkEXW_lHE2zs,6761
-accompanist-1.1.2.dist-info/LICENSE,sha256=EHImwl3uAjnXzz33MkVgnfcyDByFp0t6O-H4QaGLs4M,1063
-accompanist-1.1.2.dist-info/METADATA,sha256=CkMV8gjI8U-2I-N3OISuxOyX1WVGuVPiQ_ygJKovEpI,5744
-accompanist-1.1.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-accompanist-1.1.2.dist-info/entry_points.txt,sha256=gLZwXDl7kf85kYQ1HNQZSxCe81vLub8Eb8wWqrThDeM,53
-accompanist-1.1.2.dist-info/top_level.txt,sha256=vUeFtOUVsBOaqJK8b1z7iVPvaRhz3jGN4Uw79o1o9Ck,31
-accompanist-1.1.2.dist-info/RECORD,,
+accompanist-1.1.4.dist-info/LICENSE,sha256=EHImwl3uAjnXzz33MkVgnfcyDByFp0t6O-H4QaGLs4M,1063
+accompanist-1.1.4.dist-info/METADATA,sha256=EQBLi0LysfZmDgrYozbcPCIYcFgRFguc_ZIshCYhzKI,6008
+accompanist-1.1.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+accompanist-1.1.4.dist-info/entry_points.txt,sha256=gLZwXDl7kf85kYQ1HNQZSxCe81vLub8Eb8wWqrThDeM,53
+accompanist-1.1.4.dist-info/top_level.txt,sha256=vUeFtOUVsBOaqJK8b1z7iVPvaRhz3jGN4Uw79o1o9Ck,31
+accompanist-1.1.4.dist-info/RECORD,,
```

