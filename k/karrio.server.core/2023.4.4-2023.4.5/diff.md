# Comparing `tmp/karrio.server.core-2023.4.4-py3-none-any.whl.zip` & `tmp/karrio.server.core-2023.4.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 146896 bytes, number of entries: 174
+Zip file size: 146924 bytes, number of entries: 174
 -rw-rw-r--  2.0 unx     1456 b- defN 22-Dec-29 00:19 karrio/server/conf.py
 -rw-rw-r--  2.0 unx     2082 b- defN 23-Mar-03 13:50 karrio/server/openapi.py
 -rw-rw-r--  2.0 unx      140 b- defN 22-Nov-15 19:21 karrio/server/core/__init__.py
 -rw-rw-r--  2.0 unx       33 b- defN 22-Nov-15 19:21 karrio/server/core/admin.py
 -rw-rw-r--  2.0 unx      211 b- defN 23-Mar-03 13:50 karrio/server/core/apps.py
 -rw-rw-r--  2.0 unx     9675 b- defN 23-Mar-03 13:50 karrio/server/core/authentication.py
 -rw-rw-r--  2.0 unx      323 b- defN 22-Nov-15 19:21 karrio/server/core/context_processors.py
 -rw-rw-r--  2.0 unx     8757 b- defN 23-Apr-23 04:04 karrio/server/core/datatypes.py
 -rw-rw-r--  2.0 unx     3848 b- defN 23-Apr-23 04:04 karrio/server/core/dataunits.py
 -rw-rw-r--  2.0 unx     6024 b- defN 23-Mar-26 13:22 karrio/server/core/exceptions.py
 -rw-rw-r--  2.0 unx      345 b- defN 23-Mar-03 13:50 karrio/server/core/fields.py
--rw-rw-r--  2.0 unx    17200 b- defN 23-May-20 07:13 karrio/server/core/filters.py
+-rw-rw-r--  2.0 unx    17200 b- defN 23-May-21 02:20 karrio/server/core/filters.py
 -rw-rw-r--  2.0 unx    22624 b- defN 23-Apr-24 04:01 karrio/server/core/gateway.py
 -rw-rw-r--  2.0 unx     3017 b- defN 22-Nov-15 19:21 karrio/server/core/middleware.py
 -rw-rw-r--  2.0 unx      320 b- defN 23-Mar-03 13:50 karrio/server/core/oauth_validators.py
 -rw-rw-r--  2.0 unx     1190 b- defN 22-Nov-15 19:21 karrio/server/core/permissions.py
 -rw-rw-r--  2.0 unx      290 b- defN 22-Nov-15 19:21 karrio/server/core/renderers.py
 -rw-rw-r--  2.0 unx       95 b- defN 22-Nov-15 19:21 karrio/server/core/router.py
--rw-rw-r--  2.0 unx    52295 b- defN 23-Apr-23 04:04 karrio/server/core/serializers.py
+-rw-rw-r--  2.0 unx    52319 b- defN 23-May-22 01:19 karrio/server/core/serializers.py
 -rw-rw-r--  2.0 unx      953 b- defN 23-Mar-03 13:50 karrio/server/core/signals.py
 -rw-rw-r--  2.0 unx     1848 b- defN 23-Mar-03 13:50 karrio/server/core/tests.py
 -rw-rw-r--  2.0 unx      337 b- defN 23-Feb-21 00:04 karrio/server/core/urls.py
--rw-rw-r--  2.0 unx     9028 b- defN 23-May-20 10:58 karrio/server/core/utils.py
+-rw-rw-r--  2.0 unx     9151 b- defN 23-May-22 01:20 karrio/server/core/utils.py
 -rw-rw-r--  2.0 unx    13158 b- defN 23-Mar-03 13:50 karrio/server/core/validators.py
 -rw-rw-r--  2.0 unx      701 b- defN 22-Nov-15 19:21 karrio/server/core/migrations/0001_initial.py
 -rw-rw-r--  2.0 unx     2117 b- defN 23-Apr-23 04:04 karrio/server/core/migrations/0002_apilogindex.py
 -rw-rw-r--  2.0 unx     1859 b- defN 23-Apr-23 04:04 karrio/server/core/migrations/0003_apilogindex_test_mode.py
 -rw-rw-r--  2.0 unx        0 b- defN 22-Nov-15 19:21 karrio/server/core/migrations/__init__.py
 -rw-rw-r--  2.0 unx      472 b- defN 23-Apr-23 04:04 karrio/server/core/models/__init__.py
 -rw-rw-r--  2.0 unx     1502 b- defN 23-Apr-23 04:04 karrio/server/core/models/base.py
@@ -35,22 +35,22 @@
 -rw-rw-r--  2.0 unx     4276 b- defN 23-Mar-03 13:50 karrio/server/core/views/api.py
 -rw-rw-r--  2.0 unx     1309 b- defN 23-Mar-03 13:50 karrio/server/core/views/metadata.py
 -rw-rw-r--  2.0 unx     2475 b- defN 23-Apr-23 04:04 karrio/server/core/views/references.py
 -rw-rw-r--  2.0 unx    11523 b- defN 23-May-10 17:02 karrio/server/core/views/schema.py
 -rw-rw-r--  2.0 unx       74 b- defN 23-Mar-03 13:50 karrio/server/filters/__init__.py
 -rw-rw-r--  2.0 unx      739 b- defN 23-May-20 07:20 karrio/server/filters/abstract.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/server/providers/__init__.py
--rw-rw-r--  2.0 unx    12550 b- defN 23-May-20 10:42 karrio/server/providers/admin.py
+-rw-rw-r--  2.0 unx    12550 b- defN 23-May-21 02:20 karrio/server/providers/admin.py
 -rw-rw-r--  2.0 unx      217 b- defN 23-Mar-03 13:50 karrio/server/providers/apps.py
 -rw-rw-r--  2.0 unx       95 b- defN 22-Nov-15 19:21 karrio/server/providers/router.py
 -rw-rw-r--  2.0 unx     2611 b- defN 23-Mar-03 13:50 karrio/server/providers/serializers.py
 -rw-rw-r--  2.0 unx      897 b- defN 23-Mar-03 13:50 karrio/server/providers/signals.py
 -rw-rw-r--  2.0 unx       67 b- defN 22-Nov-15 19:21 karrio/server/providers/tests.py
 -rw-rw-r--  2.0 unx      226 b- defN 22-Nov-15 19:21 karrio/server/providers/urls.py
--rw-rw-r--  2.0 unx     5798 b- defN 23-May-18 08:28 karrio/server/providers/views.py
+-rw-rw-r--  2.0 unx     5798 b- defN 23-May-21 02:20 karrio/server/providers/views.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/__init__.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/models/__init__.py
 -rw-rw-r--  2.0 unx      752 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/models/amazon_mws.py
 -rw-rw-r--  2.0 unx      732 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/models/aramex.py
 -rw-rw-r--  2.0 unx      560 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/models/australiapost.py
 -rw-rw-r--  2.0 unx      637 b- defN 23-Apr-23 04:04 karrio/server/providers/extension/models/boxknight.py
 -rw-rw-r--  2.0 unx      619 b- defN 22-Nov-15 19:21 karrio/server/providers/extension/models/canadapost.py
@@ -165,12 +165,12 @@
 -rw-rw-r--  2.0 unx      992 b- defN 22-Nov-15 19:21 karrio/server/user/migrations/0002_token.py
 -rw-rw-r--  2.0 unx      498 b- defN 22-Nov-15 19:21 karrio/server/user/migrations/0003_token_test_mode.py
 -rw-rw-r--  2.0 unx      791 b- defN 22-Nov-15 19:21 karrio/server/user/migrations/0004_group.py
 -rw-rw-r--  2.0 unx        0 b- defN 22-Nov-15 19:21 karrio/server/user/migrations/__init__.py
 -rw-rw-r--  2.0 unx     3690 b- defN 22-Nov-15 19:21 karrio/server/user/templates/registration/login.html
 -rw-rw-r--  2.0 unx      247 b- defN 22-Nov-15 19:21 karrio/server/user/templates/registration/registration_confirm_email.html
 -rw-rw-r--  2.0 unx       94 b- defN 22-Nov-15 19:21 karrio/server/user/templates/registration/registration_confirm_email.txt
--rw-rw-r--  2.0 unx      773 b- defN 23-May-20 11:21 karrio.server.core-2023.4.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:21 karrio.server.core-2023.4.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-May-20 11:21 karrio.server.core-2023.4.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    18181 b- defN 23-May-20 11:21 karrio.server.core-2023.4.4.dist-info/RECORD
-174 files, 461143 bytes uncompressed, 116770 bytes compressed:  74.7%
+-rw-rw-r--  2.0 unx      773 b- defN 23-May-22 01:25 karrio.server.core-2023.4.5.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-22 01:25 karrio.server.core-2023.4.5.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-22 01:25 karrio.server.core-2023.4.5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    18181 b- defN 23-May-22 01:25 karrio.server.core-2023.4.5.dist-info/RECORD
+174 files, 461290 bytes uncompressed, 116798 bytes compressed:  74.7%
```

## zipnote {}

```diff
@@ -504,20 +504,20 @@
 
 Filename: karrio/server/user/templates/registration/registration_confirm_email.html
 Comment: 
 
 Filename: karrio/server/user/templates/registration/registration_confirm_email.txt
 Comment: 
 
-Filename: karrio.server.core-2023.4.4.dist-info/METADATA
+Filename: karrio.server.core-2023.4.5.dist-info/METADATA
 Comment: 
 
-Filename: karrio.server.core-2023.4.4.dist-info/WHEEL
+Filename: karrio.server.core-2023.4.5.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.server.core-2023.4.4.dist-info/top_level.txt
+Filename: karrio.server.core-2023.4.5.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.server.core-2023.4.4.dist-info/RECORD
+Filename: karrio.server.core-2023.4.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/server/core/serializers.py

```diff
@@ -1,30 +1,30 @@
-import enum
 import rest_framework as drf
 
 import karrio.core.units as units
+import karrio.core.utils as utils
 import karrio.server.serializers as serializers
 import karrio.server.core.dataunits as dataunits
 import karrio.server.core.validators as validators
 import karrio.server.providers.models as providers
 
 
-class ShipmentStatus(enum.Enum):
+class ShipmentStatus(utils.Enum):
     draft = "draft"
     purchased = "purchased"
     cancelled = "cancelled"
     shipped = "shipped"
     in_transit = "in_transit"
     delivered = "delivered"
     needs_attention = "needs_attention"
     out_for_delivery = "out_for_delivery"
     delivery_failed = "delivery_failed"
 
 
-class TrackerStatus(enum.Enum):
+class TrackerStatus(utils.Enum):
     pending = "pending"
     unknown = "unknown"
     delivered = "delivered"
     on_hold = "on_hold"
     in_transit = "in_transit"
     delivery_delayed = "delivery_delayed"
     out_for_delivery = "out_for_delivery"
```

## karrio/server/core/utils.py

```diff
@@ -206,16 +206,19 @@
     elif details.delivered:
         return serializers.TrackerStatus.delivered
     elif (len(details.events) == 0) or (
         len(details.events) == 1 and details.events[0].code == "CREATED"
     ):
         return serializers.TrackerStatus.pending
 
-    if any(details.status or ""):
-        return details.status
+    if (
+        any(details.status or "") and
+        serializers.TrackerStatus.map(details.status).value is not None
+    ):
+        return serializers.TrackerStatus.map(details.status)
 
     return serializers.TrackerStatus.in_transit
 
 
 def is_sdk_message(
     message: Optional[Union[datatypes.Message, List[datatypes.Message]]]
 ) -> bool:
```

## Comparing `karrio.server.core-2023.4.4.dist-info/METADATA` & `karrio.server.core-2023.4.5.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.server.core
-Version: 2023.4.4
+Version: 2023.4.5
 Summary: Multi-carrier shipping API Core module
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

## Comparing `karrio.server.core-2023.4.4.dist-info/RECORD` & `karrio.server.core-2023.4.5.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -12,19 +12,19 @@
 karrio/server/core/filters.py,sha256=kzu1eU47H9TBkn4bq3xwKVfQd5yg5GJ0vu0f2AepREs,17200
 karrio/server/core/gateway.py,sha256=yP3VyJMfNxpQVkVWsFXJK1DWB5dmbMAHBEQQWqSMxsc,22624
 karrio/server/core/middleware.py,sha256=euRkeIvNv3G-b_U3fKDO6po-2dbYF0LiXUYg2nyeCI0,3017
 karrio/server/core/oauth_validators.py,sha256=Wq94ncVmaRZCRvN841SdQYmgnHEBgEUVHrn9uxj5pdA,320
 karrio/server/core/permissions.py,sha256=PXZ1FTIpimfKoFyEl__Gy9TueeCjPfyefYqmQzfpsy4,1190
 karrio/server/core/renderers.py,sha256=IUEUhvvrk_CeqnmnYQgWKHiH3uQhNc0eqDxyO9CuUS4,290
 karrio/server/core/router.py,sha256=IBUR7rfBkdEHQzWxYOPcVSM8NBp3fte9G6Q5BVTUNNw,95
-karrio/server/core/serializers.py,sha256=rXwH_3zBD2SIUmbaBDsf3LFgyucbZpOvVhpgoOls7og,52295
+karrio/server/core/serializers.py,sha256=qshDyA0Bu946EUNAfIxoLFPm6Kcn5XvyfS-ot0TIZ8Y,52319
 karrio/server/core/signals.py,sha256=mM3S7ASCkaZkq92YSJsSRP_dvhIXwf2iWsE8XGQ04us,953
 karrio/server/core/tests.py,sha256=MkWFhUX5TvvbK2RNnM2gEK-NQssPvMff5hCbJpPfxoI,1848
 karrio/server/core/urls.py,sha256=JQrN6dI7A7c_M498EcDKdjDqlp_d64Ov-RS4HHmssRk,337
-karrio/server/core/utils.py,sha256=30mMQ-Dgnjv8mp3JuAnQy-BFmqYBkvyBOihDP6gJomg,9028
+karrio/server/core/utils.py,sha256=UCK0pIyVSshPc061VE97Ftq8LZxPfkXxXK46O7BwtPE,9151
 karrio/server/core/validators.py,sha256=7_Cm9sMsYQlZRMKgJI-eu4Ba7MTrS4DcKUW0CTxrgm8,13158
 karrio/server/core/migrations/0001_initial.py,sha256=8c-JMkt84Z5C1Zgm2jw4NiI6tYSK4OLcB-uhxiEDN98,701
 karrio/server/core/migrations/0002_apilogindex.py,sha256=HJLJA6jyrszBWBsq03xb69UZ4SEMrIX9Mkd3dTduOpc,2117
 karrio/server/core/migrations/0003_apilogindex_test_mode.py,sha256=-a7OpNnBe7fPOuJeKTUjsbrNBqGpWEOjT536-zJaA-A,1859
 karrio/server/core/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 karrio/server/core/models/__init__.py,sha256=59-e_6lTHKlmUA8BHjmIctYvK9fOQ-rRKbvHUy5XVms,472
 karrio/server/core/models/base.py,sha256=L5TWDghhUs05a0xB56a3W_d1p_vMNQq1Cnz_R1jCykw,1502
@@ -164,11 +164,11 @@
 karrio/server/user/migrations/0002_token.py,sha256=lKgbPy036dZYBmvtdg1Ta1mH1PkMLoJZtHkyRbdjEO0,992
 karrio/server/user/migrations/0003_token_test_mode.py,sha256=YEqSXx6FDysbTqAuZmwH1NQTlzMnvvmphacVk8hyrL0,498
 karrio/server/user/migrations/0004_group.py,sha256=ki5yjRYDwgNk-Wmy8slb_PvPJmFAOrXf9k7o3rm4JZw,791
 karrio/server/user/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 karrio/server/user/templates/registration/login.html,sha256=3_tj-0rKfwkCk-fp_GT8xFQhLqjGcJs3uZzOAaI40Sw,3690
 karrio/server/user/templates/registration/registration_confirm_email.html,sha256=zFDkNN_BHMQyrBv_mU8aoqXxYxG91TGuf6pKwRa5jxE,247
 karrio/server/user/templates/registration/registration_confirm_email.txt,sha256=I_zN_pJTRigfyiYbyQK0wFfrI5Zq1JG8lf0TyLA9fN0,94
-karrio.server.core-2023.4.4.dist-info/METADATA,sha256=emvXmJMliUpz7DBpc6XSQKklCSPrRbqTpDbM1yaUKL0,773
-karrio.server.core-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.server.core-2023.4.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.server.core-2023.4.4.dist-info/RECORD,,
+karrio.server.core-2023.4.5.dist-info/METADATA,sha256=PSlFEhB3FE3OGw3mnnQjHv7Sl6jdRKQvAPYxBp0yFlU,773
+karrio.server.core-2023.4.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.server.core-2023.4.5.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio.server.core-2023.4.5.dist-info/RECORD,,
```

