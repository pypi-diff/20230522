# Comparing `tmp/odoo_addon_sale_elaboration-15.0.2.0.0.3-py3-none-any.whl.zip` & `tmp/odoo_addon_sale_elaboration-15.0.3.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,37 +1,46 @@
-Zip file size: 38962 bytes, number of entries: 35
--rw-r--r--  2.0 unx     3636 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/README.rst
--rw-r--r--  2.0 unx      119 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/__init__.py
--rw-r--r--  2.0 unx      912 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/__manifest__.py
--rw-r--r--  2.0 unx      474 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/hooks.py
--rw-r--r--  2.0 unx     7366 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/i18n/de.po
--rw-r--r--  2.0 unx     8082 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/i18n/es.po
--rw-r--r--  2.0 unx     6955 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/i18n/sale_elaboration.pot
--rw-r--r--  2.0 unx      393 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/migrations/15.0.2.0.0/post-migration.py
--rw-r--r--  2.0 unx      289 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/migrations/15.0.2.0.0/pre-migration.py
--rw-r--r--  2.0 unx      208 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/__init__.py
--rw-r--r--  2.0 unx      252 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/product.py
--rw-r--r--  2.0 unx     1578 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/product_elaboration.py
--rw-r--r--  2.0 unx      434 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/res_config_settings.py
--rw-r--r--  2.0 unx     2908 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/sale_order.py
--rw-r--r--  2.0 unx     1018 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/models/stock_picking.py
--rw-r--r--  2.0 unx      170 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      117 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      431 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      306 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/readme/USAGE.rst
--rw-r--r--  2.0 unx     2185 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/reports/report_deliveryslip.xml
--rw-r--r--  2.0 unx      398 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/security/ir.model.access.csv
--rw-r--r--  2.0 unx      295 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/security/security.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/static/description/icon.png
--rw-r--r--  2.0 unx    13225 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/static/description/index.html
--rw-r--r--  2.0 unx      101 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/tests/__init__.py
--rw-r--r--  2.0 unx     6983 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/tests/test_sale_elaboration.py
--rw-r--r--  2.0 unx      680 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/views/product_views.xml
--rw-r--r--  2.0 unx     1094 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/views/res_config_settings_views.xml
--rw-r--r--  2.0 unx     3075 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/views/sale_elaboration_report_views.xml
--rw-r--r--  2.0 unx     3184 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/views/sale_elaboration_views.xml
--rw-r--r--  2.0 unx     1589 b- defN 23-Feb-05 07:48 odoo/addons/sale_elaboration/views/sale_order_views.xml
--rw-r--r--  2.0 unx     4243 b- defN 23-Feb-05 07:49 odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Feb-05 07:49 odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Feb-05 07:49 odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3777 b- defN 23-Feb-05 07:49 odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/RECORD
-35 files, 86029 bytes uncompressed, 32568 bytes compressed:  62.1%
+Zip file size: 46649 bytes, number of entries: 44
+-rw-r--r--  2.0 unx     3696 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/README.rst
+-rw-r--r--  2.0 unx      119 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/__init__.py
+-rw-r--r--  2.0 unx     1043 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/__manifest__.py
+-rw-r--r--  2.0 unx      474 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/hooks.py
+-rw-r--r--  2.0 unx     7366 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/i18n/de.po
+-rw-r--r--  2.0 unx    12597 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/i18n/es.po
+-rw-r--r--  2.0 unx    11258 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/i18n/sale_elaboration.pot
+-rw-r--r--  2.0 unx      393 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/migrations/15.0.2.0.0/post-migration.py
+-rw-r--r--  2.0 unx      289 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/migrations/15.0.2.0.0/pre-migration.py
+-rw-r--r--  2.0 unx      799 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/migrations/15.0.3.0.0/post-migration.py
+-rw-r--r--  2.0 unx      371 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/__init__.py
+-rw-r--r--  2.0 unx      336 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/product.py
+-rw-r--r--  2.0 unx     1869 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/product_elaboration.py
+-rw-r--r--  2.0 unx     1310 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/product_elaboration_mixin.py
+-rw-r--r--  2.0 unx      702 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/product_elaboration_profile.py
+-rw-r--r--  2.0 unx     1717 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/product_template.py
+-rw-r--r--  2.0 unx      434 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/res_config_settings.py
+-rw-r--r--  2.0 unx     3128 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/sale_order.py
+-rw-r--r--  2.0 unx      516 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/stock_move.py
+-rw-r--r--  2.0 unx      700 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/stock_picking.py
+-rw-r--r--  2.0 unx     1267 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/models/stock_rule.py
+-rw-r--r--  2.0 unx      230 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      117 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      431 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      306 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/readme/USAGE.rst
+-rw-r--r--  2.0 unx     2185 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/reports/report_deliveryslip.xml
+-rw-r--r--  2.0 unx      698 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      295 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/security/security.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/static/description/icon.png
+-rw-r--r--  2.0 unx    13291 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/static/description/index.html
+-rw-r--r--  2.0 unx      101 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/tests/__init__.py
+-rw-r--r--  2.0 unx     6983 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/tests/test_sale_elaboration.py
+-rw-r--r--  2.0 unx     1357 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/product_views.xml
+-rw-r--r--  2.0 unx     1094 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/res_config_settings_views.xml
+-rw-r--r--  2.0 unx     2153 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/sale_elaboration_profile_views.xml
+-rw-r--r--  2.0 unx     3075 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/sale_elaboration_report_views.xml
+-rw-r--r--  2.0 unx     3848 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/sale_elaboration_views.xml
+-rw-r--r--  2.0 unx     4162 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/sale_order_views.xml
+-rw-r--r--  2.0 unx     1504 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/stock_move_views.xml
+-rw-r--r--  2.0 unx     2153 b- defN 23-May-22 09:49 odoo/addons/sale_elaboration/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx     4301 b- defN 23-May-22 09:49 odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-22 09:49 odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-22 09:49 odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4815 b- defN 23-May-22 09:49 odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/RECORD
+44 files, 113035 bytes uncompressed, 38521 bytes compressed:  65.9%
```

## zipnote {}

```diff
@@ -21,32 +21,50 @@
 
 Filename: odoo/addons/sale_elaboration/migrations/15.0.2.0.0/post-migration.py
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/migrations/15.0.2.0.0/pre-migration.py
 Comment: 
 
+Filename: odoo/addons/sale_elaboration/migrations/15.0.3.0.0/post-migration.py
+Comment: 
+
 Filename: odoo/addons/sale_elaboration/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/models/product.py
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/models/product_elaboration.py
 Comment: 
 
+Filename: odoo/addons/sale_elaboration/models/product_elaboration_mixin.py
+Comment: 
+
+Filename: odoo/addons/sale_elaboration/models/product_elaboration_profile.py
+Comment: 
+
+Filename: odoo/addons/sale_elaboration/models/product_template.py
+Comment: 
+
 Filename: odoo/addons/sale_elaboration/models/res_config_settings.py
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/models/sale_order.py
 Comment: 
 
+Filename: odoo/addons/sale_elaboration/models/stock_move.py
+Comment: 
+
 Filename: odoo/addons/sale_elaboration/models/stock_picking.py
 Comment: 
 
+Filename: odoo/addons/sale_elaboration/models/stock_rule.py
+Comment: 
+
 Filename: odoo/addons/sale_elaboration/readme/CONFIGURE.rst
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/readme/CONTRIBUTORS.rst
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/readme/DESCRIPTION.rst
@@ -78,29 +96,38 @@
 
 Filename: odoo/addons/sale_elaboration/views/product_views.xml
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/views/res_config_settings_views.xml
 Comment: 
 
+Filename: odoo/addons/sale_elaboration/views/sale_elaboration_profile_views.xml
+Comment: 
+
 Filename: odoo/addons/sale_elaboration/views/sale_elaboration_report_views.xml
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/views/sale_elaboration_views.xml
 Comment: 
 
 Filename: odoo/addons/sale_elaboration/views/sale_order_views.xml
 Comment: 
 
-Filename: odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/METADATA
+Filename: odoo/addons/sale_elaboration/views/stock_move_views.xml
+Comment: 
+
+Filename: odoo/addons/sale_elaboration/views/stock_picking_views.xml
+Comment: 
+
+Filename: odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/WHEEL
+Filename: odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/top_level.txt
+Filename: odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/RECORD
+Filename: odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sale_elaboration/README.rst

```diff
@@ -42,14 +42,15 @@
 =============
 
 To configure this module you need to:
 
 #. Go to *Sale > Configuration > Products > Sale Elaboration*.
 #. Create a new record.
 #. Set a product linked to the elaboration.
+#. Also you can select a route to procure this elaboration.
 
 Usage
 =====
 
 #. Go to *Sale > Quotations*.
 #. Create a sales order.
 #. Add a new line.
```

## odoo/addons/sale_elaboration/__manifest__.py

```diff
@@ -1,26 +1,29 @@
 # Copyright 2018 Tecnativa - Sergio Teruel
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 {
     "name": "Sale Elaboration",
     "summary": "Set an elaboration for any sale line",
-    "version": "15.0.2.0.0",
+    "version": "15.0.3.1.0",
     "development_status": "Production/Stable",
     "category": "Sale",
     "website": "https://github.com/OCA/sale-workflow",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "application": False,
     "installable": True,
     "depends": ["sale_stock"],
     "data": [
         "security/ir.model.access.csv",
         "security/security.xml",
         "views/product_views.xml",
         "views/res_config_settings_views.xml",
+        "views/sale_elaboration_profile_views.xml",
         "views/sale_elaboration_views.xml",
         "views/sale_order_views.xml",
         "views/sale_elaboration_report_views.xml",
+        "views/stock_move_views.xml",
+        "views/stock_picking_views.xml",
         "reports/report_deliveryslip.xml",
     ],
     "pre_init_hook": "pre_init_hook",
 }
```

## odoo/addons/sale_elaboration/i18n/es.po

```diff
@@ -2,16 +2,16 @@
 # This file contains the translation of the following modules:
 # 	* sale_elaboration
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: Odoo Server 11.0\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2023-02-02 12:32+0000\n"
-"PO-Revision-Date: 2023-02-02 13:35+0100\n"
+"POT-Creation-Date: 2023-04-24 20:27+0000\n"
+"PO-Revision-Date: 2023-04-24 22:27+0200\n"
 "Last-Translator: Sergio Teruel <sergio.teruel@tecnativa.com>\n"
 "Language-Team: \n"
 "Language: es\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
@@ -25,25 +25,27 @@
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.report_delivery_document
 msgid "<strong>Elaboration</strong>"
 msgstr "<strong>Elaboración</strong>"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__active
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__active
 msgid "Active"
 msgstr "Activo"
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "After Date"
 msgstr "Después de"
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_form
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_elaboration_profile_form_view
 msgid "Archived"
 msgstr "Archivado"
 
 #. module: sale_elaboration
 #: model:ir.model.constraint,message:sale_elaboration.constraint_product_elaboration_code_uniq
 msgid "Code must be unique!"
 msgstr "El código debe ser único!"
@@ -51,19 +53,21 @@
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_res_config_settings
 msgid "Config Settings"
 msgstr "Ajustes de configuración"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__create_uid
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__create_uid
 msgid "Created by"
 msgstr "Creado por"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__create_date
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__create_date
 msgid "Created on"
 msgstr "Creado el"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,help:sale_elaboration.field_sale_order_line__date_order
 msgid ""
 "Creation date of draft/sent orders,\n"
@@ -80,36 +84,65 @@
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_res_config_settings__group_elaboration_note_on_delivery_slip
 msgid "Display Elaboration notes on Delivery Slips"
 msgstr "Mostrar elaboraciones en los albaranes"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__display_name
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__display_name
 msgid "Display Name"
 msgstr "Nombre a mostrar"
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_price_unit
+msgid "Elab. Price"
+msgstr "Precio elab."
+
+#. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "Elaboration"
 msgstr "Elaboración"
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__elaboration_note
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_note
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__elaboration_note
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move_line__elaboration_note
 msgid "Elaboration Note"
 msgstr "Nota de elaboración"
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_product__elaboration_profile_id
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_template__elaboration_profile_id
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_profile_id
+msgid "Elaboration Profile"
+msgstr "Perfil de elaboración"
+
+#. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.res_config_settings_view
 msgid "Elaboration notes will appear on the delivery slip"
 msgstr "Las notas de elaboración aparecerán en los albaranes"
 
 #. module: sale_elaboration
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.view_order_form
+msgid "Elaboration price:"
+msgstr "Precio de elaboración:"
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__elaboration_ids
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move_line__elaboration_ids
+#: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_root
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_form
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_elaboration_profile_form_view
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_template_form_view
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.view_order_form
 msgid "Elaborations"
 msgstr "Elaboraciones"
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Elaborations Search"
 msgstr "Búsqueda de elaboraciones"
@@ -117,14 +150,15 @@
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Group By"
 msgstr "Agrupado por"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__id
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__id
 msgid "ID"
 msgstr "ID (identificación)"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,help:sale_elaboration.field_product_elaboration__active
 msgid ""
 "If unchecked, it will allow you to hide the product elaborations without "
@@ -133,74 +167,112 @@
 
 #. module: sale_elaboration
 #: model:res.groups,name:sale_elaboration.group_elaboration_note_on_delivery_slip
 msgid "Include elaboration notes on delivery slip"
 msgstr "Incluir notas de elaboración en los albaranes"
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_product__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_template__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__is_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__is_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "Is Elaboration"
 msgstr "Es elaboración"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration____last_update
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile____last_update
 msgid "Last Modified on"
 msgstr "Última modificación el"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__write_uid
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__write_uid
 msgid "Last Updated by"
 msgstr "Última modificación por"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__write_date
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__write_date
 msgid "Last Updated on"
 msgstr "Última actualización el"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__name
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__name
 msgid "Name"
 msgstr "Nombre"
 
 #. module: sale_elaboration
 #: model:ir.model.constraint,message:sale_elaboration.constraint_product_elaboration_name_uniq
 msgid "Name must be unique!"
 msgstr "¡El nombre debe ser único!"
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_product
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__product_id
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Product"
 msgstr "Producto"
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_elaboration_mixin
+msgid "Product Elaboration Mixin"
+msgstr "Elaboraciones de productos (Mixin)"
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_stock_move_line
 msgid "Product Moves (Stock Move Line)"
 msgstr "Movimientos de Producto (Stock Move Line)"
 
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_product_template
 msgid "Product Template"
 msgstr "Plantilla de producto"
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_elaboration_profile
+msgid "Product elaboration profiles"
+msgstr "Perfiles de elaboración"
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_product_elaboration
 msgid "Product elaborations"
 msgstr "Elaboraciones de productos"
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__profile_ids
+msgid "Profile"
+msgstr "Perfil"
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__route_id
+msgid "Route"
+msgstr "Ruta preferida"
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__route_ids
+msgid "Routes"
+msgstr "Rutas preferidas"
+
+#. module: sale_elaboration
 #: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_action
 #: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration
 msgid "Sale Elaboration"
 msgstr "Elaboraciones de venta"
 
 #. module: sale_elaboration
+#: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_profile_action
+#: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_profile
+msgid "Sale Elaboration Profiles"
+msgstr "Perfiles de elaboraciones"
+
+#. module: sale_elaboration
 #: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_report_action
 #: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_report
 #: model:ir.ui.menu,name:sale_elaboration.menu_stock_sale_elaboration_report
 msgid "Sale Elaboration Report"
 msgstr "Informe de elaboraciones"
 
 #. module: sale_elaboration
@@ -211,14 +283,25 @@
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Líneas de pedido"
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__code
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__code
 msgid "Short Code"
 msgstr "Nombre corto"
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_stock_move
+msgid "Stock Move"
+msgstr "Movimiento de Stock"
+
+#. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_stock_rule
+msgid "Stock Rule"
+msgstr "Regla de Inventario"
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_stock_picking
 msgid "Transfer"
-msgstr "Transferir"
+msgstr "Albarán"
```

## odoo/addons/sale_elaboration/i18n/sale_elaboration.pot

```diff
@@ -21,25 +21,27 @@
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.report_delivery_document
 msgid "<strong>Elaboration</strong>"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__active
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__active
 msgid "Active"
 msgstr ""
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "After Date"
 msgstr ""
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_form
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_elaboration_profile_form_view
 msgid "Archived"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.constraint,message:sale_elaboration.constraint_product_elaboration_code_uniq
 msgid "Code must be unique!"
 msgstr ""
@@ -47,19 +49,21 @@
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_res_config_settings
 msgid "Config Settings"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__create_uid
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__create_uid
 msgid "Created by"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__create_date
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__create_date
 msgid "Created on"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,help:sale_elaboration.field_sale_order_line__date_order
 msgid ""
 "Creation date of draft/sent orders,\n"
@@ -74,36 +78,65 @@
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_res_config_settings__group_elaboration_note_on_delivery_slip
 msgid "Display Elaboration notes on Delivery Slips"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__display_name
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__display_name
 msgid "Display Name"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_price_unit
+msgid "Elab. Price"
+msgstr ""
+
+#. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "Elaboration"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__elaboration_note
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_note
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__elaboration_note
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move_line__elaboration_note
 msgid "Elaboration Note"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_product__elaboration_profile_id
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_template__elaboration_profile_id
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_profile_id
+msgid "Elaboration Profile"
+msgstr ""
+
+#. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.res_config_settings_view
 msgid "Elaboration notes will appear on the delivery slip"
 msgstr ""
 
 #. module: sale_elaboration
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.view_order_form
+msgid "Elaboration price:"
+msgstr ""
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__elaboration_ids
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__elaboration_ids
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move_line__elaboration_ids
+#: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_root
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_form
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_elaboration_profile_form_view
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.product_template_form_view
+#: model_terms:ir.ui.view,arch_db:sale_elaboration.view_order_form
 msgid "Elaborations"
 msgstr ""
 
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Elaborations Search"
 msgstr ""
@@ -111,14 +144,15 @@
 #. module: sale_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Group By"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__id
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__id
 msgid "ID"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,help:sale_elaboration.field_product_elaboration__active
 msgid ""
 "If unchecked, it will allow you to hide the product elaborations without "
@@ -127,74 +161,112 @@
 
 #. module: sale_elaboration
 #: model:res.groups,name:sale_elaboration.group_elaboration_note_on_delivery_slip
 msgid "Include elaboration notes on delivery slip"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_mixin__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_product__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_template__is_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__is_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_stock_move__is_elaboration
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.view_sales_order_line_filter
 msgid "Is Elaboration"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration____last_update
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__write_uid
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__write_uid
 msgid "Last Updated by"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__write_date
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__write_date
 msgid "Last Updated on"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__name
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__name
 msgid "Name"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.constraint,message:sale_elaboration.constraint_product_elaboration_name_uniq
 msgid "Name must be unique!"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_product
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__product_id
 #: model_terms:ir.ui.view,arch_db:sale_elaboration.elaboration_view_search
 msgid "Product"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_elaboration_mixin
+msgid "Product Elaboration Mixin"
+msgstr ""
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_stock_move_line
 msgid "Product Moves (Stock Move Line)"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_product_template
 msgid "Product Template"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_product_elaboration_profile
+msgid "Product elaboration profiles"
+msgstr ""
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_product_elaboration
 msgid "Product elaborations"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__profile_ids
+msgid "Profile"
+msgstr ""
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_sale_order_line__route_id
+msgid "Route"
+msgstr ""
+
+#. module: sale_elaboration
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__route_ids
+msgid "Routes"
+msgstr ""
+
+#. module: sale_elaboration
 #: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_action
 #: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration
 msgid "Sale Elaboration"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_profile_action
+#: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_profile
+msgid "Sale Elaboration Profiles"
+msgstr ""
+
+#. module: sale_elaboration
 #: model:ir.actions.act_window,name:sale_elaboration.sale_elaboration_report_action
 #: model:ir.ui.menu,name:sale_elaboration.menu_sale_elaboration_report
 #: model:ir.ui.menu,name:sale_elaboration.menu_stock_sale_elaboration_report
 msgid "Sale Elaboration Report"
 msgstr ""
 
 #. module: sale_elaboration
@@ -205,14 +277,25 @@
 #. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_sale_order_line
 msgid "Sales Order Line"
 msgstr ""
 
 #. module: sale_elaboration
 #: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration__code
+#: model:ir.model.fields,field_description:sale_elaboration.field_product_elaboration_profile__code
 msgid "Short Code"
 msgstr ""
 
 #. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_stock_move
+msgid "Stock Move"
+msgstr ""
+
+#. module: sale_elaboration
+#: model:ir.model,name:sale_elaboration.model_stock_rule
+msgid "Stock Rule"
+msgstr ""
+
+#. module: sale_elaboration
 #: model:ir.model,name:sale_elaboration.model_stock_picking
 msgid "Transfer"
 msgstr ""
```

## odoo/addons/sale_elaboration/models/__init__.py

```diff
@@ -1,6 +1,11 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 from . import product
 from . import product_elaboration
+from . import product_elaboration_mixin
+from . import product_elaboration_profile
+from . import product_template
 from . import res_config_settings
 from . import sale_order
+from . import stock_move
 from . import stock_picking
+from . import stock_rule
```

## odoo/addons/sale_elaboration/models/product.py

```diff
@@ -1,9 +1,11 @@
 # Copyright 2019 Tecnativa - Sergio Teruel
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 from odoo import fields, models
 
 
-class ProductTemplate(models.Model):
-    _inherit = "product.template"
+class ProductProduct(models.Model):
+    _inherit = "product.product"
 
-    is_elaboration = fields.Boolean()
+    elaboration_profile_id = fields.Many2one(
+        comodel_name="product.elaboration.profile", ondelete="restrict"
+    )
```

## odoo/addons/sale_elaboration/models/product_elaboration.py

```diff
@@ -18,28 +18,38 @@
         required=True,
     )
     active = fields.Boolean(
         default=True,
         help="If unchecked, it will allow you to hide the product "
         "elaborations without removing it.",
     )
+    route_ids = fields.Many2many(
+        comodel_name="stock.location.route",
+        string="Routes",
+        domain=[("sale_selectable", "=", True)],
+        ondelete="restrict",
+        check_company=True,
+    )
+    profile_ids = fields.Many2many(
+        comodel_name="product.elaboration.profile",
+        relation="product_elaboration_profile_rel",
+        column1="elaboration_id",
+        column2="profile_id",
+    )
 
     _sql_constraints = [
         ("name_uniq", "unique(name)", "Name must be unique!"),
         ("code_uniq", "unique(code)", "Code must be unique!"),
     ]
 
     @api.model
     def name_search(self, name, args=None, operator="ilike", limit=100):
         """Give preference to codes on name search, appending
         the rest of the results after.
         """
         args = args or []
-        recs = self.search([("code", operator, name)] + args, limit=limit)
-        res = recs.name_get()
-        limit_rest = limit - len(recs) if limit else limit
-        if limit_rest or not limit:
-            args += [("id", "not in", recs.ids)]
-            res += super().name_search(
-                name, args=args, operator=operator, limit=limit_rest
-            )
-        return res
+        recs = self.browse()
+        if name:
+            recs = self.search([("code", "=ilike", name)] + args, limit=limit)
+        if not recs:
+            recs = self.search([("name", operator, name)] + args, limit=limit)
+        return recs.name_get()
```

## odoo/addons/sale_elaboration/models/sale_order.py

```diff
@@ -37,44 +37,46 @@
         vals = sol._convert_to_write(sol._cache)
         if self.order_line:
             vals["sequence"] = self.order_line[-1].sequence + 1
         return SaleOrderLine.sudo().create(vals)
 
 
 class SaleOrderLine(models.Model):
-    _inherit = "sale.order.line"
+    _inherit = ["sale.order.line", "product.elaboration.mixin"]
+    _name = "sale.order.line"
 
-    elaboration_ids = fields.Many2many(
-        comodel_name="product.elaboration",
-        string="Elaborations",
-    )
-    elaboration_note = fields.Char(
-        store=True,
-        compute="_compute_elaboration_note",
-        readonly=False,
+    date_order = fields.Datetime(related="order_id.date_order", string="Date")
+    route_id = fields.Many2one(compute="_compute_route_id", store=True, readonly=False)
+    elaboration_profile_id = fields.Many2one(
+        related="product_id.elaboration_profile_id"
     )
-    is_elaboration = fields.Boolean(
-        store=True,
-        compute="_compute_is_elaboration",
-        readonly=False,
+    elaboration_price_unit = fields.Float(
+        "Elab. Price", compute="_compute_elaboration_price_unit", store=True
     )
-    date_order = fields.Datetime(related="order_id.date_order", string="Date")
+
+    def get_elaboration_stock_route(self):
+        self.ensure_one()
+        return self.elaboration_ids.route_ids[:1]
 
     @api.depends("elaboration_ids")
-    def _compute_elaboration_note(self):
+    def _compute_route_id(self):
         for line in self:
-            line.elaboration_note = ", ".join(line.elaboration_ids.mapped("name"))
+            route_id = line.get_elaboration_stock_route()
+            if route_id:
+                line.route_id = route_id
+
+    @api.depends("elaboration_ids", "order_id.pricelist_id")
+    def _compute_elaboration_price_unit(self):
+        for line in self:
+            elab_price = 0.0
+            for elaboration in line.elaboration_ids:
+                elab_price += elaboration.product_id.with_context(
+                    pricelist=line.order_id.pricelist_id.id,
+                    uom=elaboration.product_id.uom_id.id,
+                ).price
+            line.elaboration_price_unit = elab_price
 
     def _prepare_invoice_line(self, **optional_values):
         vals = super()._prepare_invoice_line(**optional_values)
         if self.is_elaboration:
             vals["name"] = "{} - {}".format(self.order_id.name, self.name)
         return vals
-
-    @api.depends("product_id")
-    def _compute_is_elaboration(self):
-        """We use computed instead of a related field because related fields are not
-        initialized with their value on one2many which related field is the
-        inverse_name, so with this we get immediately the value on NewIds.
-        """
-        for line in self:
-            line.is_elaboration = line.product_id.is_elaboration
```

## odoo/addons/sale_elaboration/models/stock_picking.py

```diff
@@ -12,18 +12,7 @@
             elaboration_lines = pick.move_lines.filtered(
                 lambda x: x.sale_line_id.elaboration_ids
             )
             for line in elaboration_lines:
                 for product in line.sale_line_id.elaboration_ids.product_id:
                     pick.sale_id._create_elaboration_line(product, line.quantity_done)
         return res
-
-
-class StockMoveLine(models.Model):
-    _inherit = "stock.move.line"
-
-    def _get_aggregated_product_quantities(self, **kwargs):
-        res = super(StockMoveLine, self)._get_aggregated_product_quantities(**kwargs)
-
-        super(StockMoveLine, self)._get_aggregated_product_quantities(**kwargs)
-
-        return res
```

## odoo/addons/sale_elaboration/readme/CONFIGURE.rst

```diff
@@ -1,5 +1,6 @@
 To configure this module you need to:
 
 #. Go to *Sale > Configuration > Products > Sale Elaboration*.
 #. Create a new record.
 #. Set a product linked to the elaboration.
+#. Also you can select a route to procure this elaboration.
```

## odoo/addons/sale_elaboration/security/ir.model.access.csv

```diff
@@ -1,4 +1,6 @@
 id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
 access_elaboration_user,access_elaboration_user,model_product_elaboration,base.group_user,1,0,0,0
 access_elaboration_manager,access_elaboration_manager,model_product_elaboration,sales_team.group_sale_manager,1,1,1,1
 access_elaboration_portal,product.elaboration.portal,model_product_elaboration,base.group_portal,1,0,0,0
+access_elaboration_profile_user,product_elaboration_profile_user,sale_elaboration.model_product_elaboration_profile,base.group_user,1,0,0,0
+access_elaboration_profile_manager,product_elaboration_profile_manager,sale_elaboration.model_product_elaboration_profile,sales_team.group_sale_manager,1,1,1,1
```

## odoo/addons/sale_elaboration/static/description/index.html

### odoo/addons/sale_elaboration/static/description/index.html

```diff
@@ -430,14 +430,15 @@
           <li>
             Go to
             <em>Sale &gt; Configuration &gt; Products &gt; Sale Elaboration</em>
             .
           </li>
           <li>Create a new record.</li>
           <li>Set a product linked to the elaboration.</li>
+          <li>Also you can select a route to procure this elaboration.</li>
         </ol>
       </div>
       <div class="section" id="usage">
         <h1>
           <a class="toc-backref" href="#id2">Usage</a>
         </h1>
         <ol class="arabic simple">
```

## odoo/addons/sale_elaboration/views/product_views.xml

### odoo/addons/sale_elaboration/views/product_views.xml

```diff
@@ -7,8 +7,19 @@
     <field name="inherit_id" ref="product.product_template_only_form_view"/>
     <field name="arch" type="xml">
       <field name="default_code" position="after">
         <field name="is_elaboration" attrs="{'invisible': [('type', '!=', 'service')]}"/>
       </field>
     </field>
   </record>
+  <record id="product_template_form_view" model="ir.ui.view">
+    <field name="model">product.template</field>
+    <field name="inherit_id" ref="product.product_template_form_view"/>
+    <field name="arch" type="xml">
+      <xpath expr="//group[@name='description']/.." position="after">
+        <group name="elboration" string="Elaborations">
+          <field name="elaboration_profile_id" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}"/>
+        </group>
+      </xpath>
+    </field>
+  </record>
 </odoo>
```

## odoo/addons/sale_elaboration/views/sale_elaboration_views.xml

### odoo/addons/sale_elaboration/views/sale_elaboration_views.xml

```diff
@@ -11,26 +11,31 @@
           <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
           <field name="active" invisible="1"/>
           <group>
             <field name="code"/>
             <field name="name"/>
             <field name="product_id" context="{'default_is_elaboration': True, 'default_type': 'service'}"/>
           </group>
+          <group>
+            <field name="route_ids" widget="many2many_tags" groups="stock.group_adv_location" options="{'no_create': True}"/>
+          </group>
         </sheet>
       </form>
     </field>
   </record>
   <record id="elaboration_view_tree" model="ir.ui.view">
     <field name="name">Elaborations</field>
     <field name="model">product.elaboration</field>
     <field name="arch" type="xml">
-      <tree editable="top">
+      <tree multi_edit="1" editable="top">
         <field name="code"/>
         <field name="name"/>
         <field name="product_id" context="{'default_is_elaboration': True, 'default_type': 'service'}"/>
+        <field name="route_ids" widget="many2many_tags" groups="stock.group_adv_location" options="{'no_create': True}"/>
+        <field name="profile_ids" widget="many2many_tags" optional="hide"/>
         <field name="active" widget="boolean_toggle"/>
       </tree>
     </field>
   </record>
   <record id="elaboration_view_search" model="ir.ui.view">
     <field name="name">Elaborations</field>
     <field name="model">product.elaboration</field>
@@ -49,9 +54,9 @@
   <record id="sale_elaboration_action" model="ir.actions.act_window">
     <field name="name">Sale Elaboration</field>
     <field name="type">ir.actions.act_window</field>
     <field name="res_model">product.elaboration</field>
     <field name="view_mode">tree</field>
     <field name="search_view_id" ref="elaboration_view_search"/>
   </record>
-  <menuitem id="menu_sale_elaboration" action="sale_elaboration_action" parent="sale.prod_config_main" sequence="60"/>
+  <menuitem id="menu_sale_elaboration" action="sale_elaboration_action" parent="menu_sale_elaboration_root" sequence="20"/>
 </odoo>
```

## odoo/addons/sale_elaboration/views/sale_order_views.xml

### odoo/addons/sale_elaboration/views/sale_order_views.xml

```diff
@@ -4,18 +4,48 @@
      License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
 <odoo>
   <record id="view_order_form" model="ir.ui.view">
     <field name="name">Sale Elaboration</field>
     <field name="model">sale.order</field>
     <field name="inherit_id" ref="sale.view_order_form"/>
     <field name="arch" type="xml">
-      <xpath expr="//field[@name='order_line']/form//field[@name='name']" position="after">
-        <field name="elaboration_ids" widget="many2many_tags" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
-        <field name="elaboration_note" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
+      <xpath expr="//field[@name='order_line']/form/group" position="inside">
+        <group string="Elaborations" name="elaboration">
+          <field name="elaboration_profile_id" invisible="1"/>
+          <field name="elaboration_ids" widget="many2many_tags" attrs="{'readonly': ['|', ('product_updatable', '=', False), ('state', 'in', ('done', 'cancel'))]}" domain="elaboration_profile_id and [('profile_ids', 'in', [elaboration_profile_id])] or []"/>
+          <field name="elaboration_note" attrs="{'readonly': ['|', ('product_updatable', '=', False), ('state', 'in', ('done', 'cancel'))]}"/>
+          <field name="elaboration_price_unit" readonly="1" widget="monetary" attrs="{'invisible': [('elaboration_ids', '=', [])]}"/>
+        </group>
       </xpath>
       <xpath expr="//field[@name='order_line']/tree//field[@name='price_unit']" position="after">
-        <field name="elaboration_ids" widget="many2many_tags" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
-        <field name="elaboration_note" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}"/>
+        <field name="elaboration_profile_id" invisible="1"/>
+        <field name="elaboration_ids" widget="many2many_tags" attrs="{'readonly': ['|', ('product_updatable', '=', False), ('state', 'in', ('done', 'cancel'))]}" domain="elaboration_profile_id and [('profile_ids', 'in', [elaboration_profile_id])] or []"/>
+        <field name="elaboration_note" attrs="{'readonly': ['|', ('product_updatable', '=', False), ('state', 'in', ('done', 'cancel'))]}"/>
+        <field name="elaboration_price_unit" readonly="1" widget="monetary" optional="hide"/>
+      </xpath>
+      <xpath expr="//field[@name='order_line']/kanban//field[@name='company_id']" position="after">
+        <field name="elaboration_ids" invisible="1"/>
+        <field name="elaboration_note" invisible="1"/>
+        <field name="elaboration_price_unit" invisible="1"/>
+      </xpath>
+      <xpath expr="//field[@name='order_line']/kanban//t[@t-esc='record.price_unit.value']" position="after">
+        <t t-if="record.elaboration_ids.raw_value.length gt 0">
+          <div>
+            Elaboration price:
+            <field name="elaboration_price_unit" widget="monetary"/>
+          </div>
+        </t>
+      </xpath>
+      <xpath expr="//field[@name='order_line']/kanban//t[@t-esc='record.price_unit.value']/../.." position="after">
+        <t t-if="record.elaboration_ids.raw_value.length gt 0">
+          <div class="row mt8">
+            <div class="col-12">
+              <strong>
+                <field name="elaboration_ids" widget="many2many_tags"/>
+              </strong>
+            </div>
+          </div>
+        </t>
       </xpath>
     </field>
   </record>
 </odoo>
```

## Comparing `odoo_addon_sale_elaboration-15.0.2.0.0.3.dist-info/METADATA` & `odoo_addon_sale_elaboration-15.0.3.1.0.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-sale-elaboration
-Version: 15.0.2.0.0.3
+Version: 15.0.3.1.0
 Summary: Set an elaboration for any sale line
 Home-page: https://github.com/OCA/sale-workflow
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -59,14 +59,15 @@
 =============
 
 To configure this module you need to:
 
 #. Go to *Sale > Configuration > Products > Sale Elaboration*.
 #. Create a new record.
 #. Set a product linked to the elaboration.
+#. Also you can select a route to procure this elaboration.
 
 Usage
 =====
 
 #. Go to *Sale > Quotations*.
 #. Create a sales order.
 #. Add a new line.
```

